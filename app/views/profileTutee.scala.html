@import play.api.i18n.Messages
@import play.api.mvc.RequestHeader
@import org.webjars.play.WebJarsUtil
@import controllers.AssetsFinder
@import utils.TemplateHelpers._

@(user: models.User, profile: Option[models.TuteeProfile], psychogramData: String)(implicit request: RequestHeader, messages: Messages, webJarsUtil: WebJarsUtil, assets: AssetsFinder)

@main(messages("profile.title"), Some(user)) {
<div class="tutee-profile col-md-12">


    <div id="tutee" class="user-tutee data">
        <div class="col-md-12">
            <div class="row text-center">
                @avatar(user)
            </div>
            <div class="row text-center">
                <p><strong>@user.firstName.getOrElse("None") @user.lastName.getOrElse("None")</strong></p>
            </div>
            <div class="row">
                <p class="col-md-6"><strong>@messages("profile.gender"):</strong></p>
                <p class="col-md-6">@profile.map(p => messages("gender." + p.gender)).getOrElse("")</p>
            </div>
            <div class="row">
                <p class="col-md-6"><strong>@messages("profile.dob"):</strong></p>
                <p class="col-md-6">@profile.map(p => parseDate(p.dob)).getOrElse("")</p>
            </div>
            <div class="row">
                <p class="col-md-6"><strong>@messages("profile.class.level"):</strong></p>
                <p class="col-md-6">@profile.map(p => if (p.classLevel == 13) "Abitur" else if (p.classLevel == 14) "MSA" else p.classLevel).getOrElse("")</p>
            </div>
            <div class="row">
                <p class="col-md-6"><strong>@messages("profile.school.name"):</strong></p>
                <p class="col-md-6">@profile.map(_.schoolName).getOrElse("")</p>
            </div>
            <div class="row">
                <p class="col-md-6"><strong>@messages("profile.language"):</strong></p>
                <p class="col-md-6">@profile.map(l => messages("language."+l.learningLanguage)).getOrElse("")</p>
            </div>
            @if(profile.flatMap(_.address).isDefined) {
            <div class="row">
                <p class="col-md-6"><strong>@messages("profile.address"):</strong></p>
                <p class="col-md-6">@profile.flatMap(_.address).get.street, @profile.flatMap(_.address).get.postalCode</p>
            </div>
            }
            <div id="hover" class="row">
                <p class="col-md-6"><strong>@messages("profile.description"):</strong></p>
                <p class="col-md-6">@profile.map(_.description).getOrElse("")</p>
            </div>

            </div>
        <div class="text-center"> <a href="@controllers.routes.TuteeProfileController.edit" class="btn btn-edit"><span class="glyphicon glyphicon-edit"></span> @messages("edit")</a></div>

    </div>

    <div class="psychogram col-md-6 text-center">


        @psychogram("100%", "100%", user, psychogramData)
        <button id="shower" class="col-xs-12 col-md-6">Profil zeigen/verbergen</button>
        <a href="@controllers.routes.MatchingController.view" class="col-xs-12 col-md-6 btn btn-find-tutor"><span class="glyphicon glyphicon-search"></span>@messages("profile.tutor.find")</a>
    </div>

    <script>
$( "button" ).click(function() {
  $( "#tutee" ).toggle( "slow" );
});
</script>

	<script>$('#navbar .nav #my-profile').addClass('active');</script>
</div>
}
